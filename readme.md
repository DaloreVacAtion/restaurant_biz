<h1>Оформление брони в сети ресторанов</h1>

<h2>Описание:</h2>
<p>Проект представляет собой систему бронирования столиков в сети ресторанов.
Взаимодействие с пользователем очень простое: необходимо ввести 
количество человек (на стороне пользователя число пользователей ограничено 
двадцатью), и выбрать время посещения из предложенного в списке (от 9:00 до 21:00
с интервалом в полчаса). В ответ на запрос приходит список ресторанов со следующими
полями: "id" ресторана (нужен для записи Брони), "name" - название ресторана, 
"free_tables_count" - количество свободных столиков, "seats" - кол-во свободных
мест, "avg_cost" - средняя стоимость чека, "avg_time" - среднее время 
ожидания заказа.</p>
<p>К сожалению, реализовать frontend в полной мере не удалось, однако были созданые страницы
регистрации пользователя и поиск вариантов брони (которые, к сожалению, недоступны).</p>
<h2>Технологии:</h2>
<p>Данный проект написан на языке Python c использованием веб фреймворка Django версии 4.0.6.
Для взаимодействия с API был использован Django REST Framework версии 3.13.1. В качестве БД 
была выбрана СУБД PostgreSQL 11-ой версии. Хотелось бы обернуть весь проект в Докер-Контейнеры,
однако у меня возникли проблемы с ОС.</p>
<h2>Техническое описание</h2>
<p>Для стабильной и правильной работы приложения необходимо иметь установленную версию PostgreSQL
на вашем устройстве/сервере. Затем необходимо подвести подготовительные работы:</p>
<ul>
<li>Перейдем в дирректорию проекта (на моем примере это "kirill/PyCharmProjects/restaurant_biz")</li>
<li>Самое главное - <b>установите зависимости</b> командой <i>pip install -r requirements.txt</i></li>
<li>Cоздадим пользователя командой <i>createuser booking_user</i></li>
<li>Cоздадим базу данных командой <i>createdb booking_db -Obooking_user</i></li>
<li>Затем применим все миграции командой <i>./manage.py migrate</i></li>
<li>И запустим наше сервер командой ./manage.py runserver</li>
</ul>

<h2>Проблемы:</h2>
<p>К сожалению, пришлось столкнуться с рядом проблем, решение которых требует некоторого времени:</p>
<ul>
<li>По причине устаревания моей ОС, не удалось установить докер, а также PostgreSQL выше 11
версии. Решение: скорее всего, можно было поискать более старые версии.</li>
<li>Возник баг с регистрацией пользователя. Если делать это через админку, то процесс 
регистрации валится на ошибке присвоения региона. Скорее всего проблема с совместимостью 
библиотеки django-phonenumber-fields с формами регистрации, но пользователь создается 
и процесс регистрации на стартовой странице это никак не затрагивает. Решение: нужно
искать :)</li>
</ul>

<h2>О внутрянке:</h2>
<p>По фатку проект - это всего лишь две ссылки в api ('api/variants/' и 'api/booking/').
Первая подбирает варианты для брони: параметры передаются в query_params GET запроса:
<i>time</i> - время в видел строки "Часы,Минуты", <i>peoples_count</i> - количество посетителей (int), а 
также параметр <i>ordering</i> для сортировки (<i>avg_time</i> и <i>avg_cost</i> (передать со знаком
минус для сортировки по убыванию)).
Вторая регистрирует пользователя в системе и присваивает ему бронь. Для регистрации брони нужно 
отправить следующие параметры data POST запроса: <i>restaurant_id</i> - <i>id</i>
ресторана, в котором создается бронь, <i>visit_time</i> - время брони в формате "Часы,минуты",
<i>peoples_count</i> - количество человек, которое получили на странице рассчета, <i>user</i> - 
номер телефона пользователя в формате '+79999999999'. 
</p>

<p>Заранее извиняюсь, если что-то написано криво и режет глаза</p>